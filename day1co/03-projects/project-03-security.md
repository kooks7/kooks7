# Project Deep Dive — Security / ISMS (Refund Data Encryption)

## 배경

규제/보안 요구사항(ISMS 등)은 “추가 기능”이 아니라 운영 리스크를 줄이는 필수 조건입니다.
특히 환불 정보(계좌번호 등)는 민감정보로 분류되며, 저장/전송/접근 통제가 필요합니다.

## 목표

- 환불 계좌번호 등 민감정보를 **암호화 저장**하고 필요 시 **복호화**할 수 있게 설계
- 배포 영향 범위를 명확히 하여 운영 리스크 최소화

## 핵심 PR

- ISMS 결함 대응으로 환불 테이블의 계좌번호 암/복호화 기능을 추가
- 배포가 필요한 서비스(자동 환불 콜백/백오피스 등)까지 변경 범위를 명시

## 설계 관점(일반화)

- **Key Management**: KMS를 통해 키를 안전하게 관리(키 노출/회전 고려)
- **Data Access**: 복호화는 최소 권한 원칙에 따라 제한(역할 기반 접근)
- **Auditability**: 민감정보 접근/변경은 로그로 남길 수 있도록 설계

## 테스트/검증

- 기능 단위 테스트 + 배포 영향 서비스 점검(연동 확인)
- 운영 배포 시나리오(환불 생성/조회/콜백) 기준으로 end-to-end 점검

## 다음 개선 아이디어

- 필드 단위 마스킹/토큰화, 접근 로그의 표준화
- 키 로테이션 전략 문서화 및 자동화
