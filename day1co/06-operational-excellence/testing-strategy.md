# Testing Strategy

## 원칙
- 테스트는 “완벽”이 아니라 **회귀 방지**가 목적입니다.
- PR 단위로 위험한 변경(정산/결제/보안)은 **테스트 + 시나리오 점검**을 기본으로 합니다.

## 레이어별 접근
1) **Unit Test**
- 도메인 로직(정합성, 상태 전이, 기간 계산 등)을 빠르게 검증
- 예: 타임존 기반 start/end 산정 유틸의 케이스 검증

2) **Integration Test**
- 외부 의존성(DB/캐시/메시징)을 좁은 범위에서 연결해 검증
- 예: Pub/Sub emulator 기반 메시징 테스트

3) **E2E / Scenario Test**
- 운영에 중요한 흐름(결제/정산/환불)을 사용자 시나리오로 확인
- 배포 전후 체크리스트로 운영 리스크 감소

## CI에서의 테스트 재현성
- 가능하면 emulator/컨테이너로 외부 시스템을 재현해 PR 단위 검증
- “재현 가능성”이 있어야 장애 분석과 회귀 방지가 쉬워집니다.
